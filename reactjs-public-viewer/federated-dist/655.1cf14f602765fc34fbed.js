"use strict";(self.webpackChunkreactjs_public_viewer=self.webpackChunkreactjs_public_viewer||[]).push([[655],{655:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(884),l=a.n(s),r=a(440),n=a.n(r),m=a(521);const o=e=>{let{postId:t,postSlug:a,apiUrl:r="http://localhost:8080/api",showLoginPrompt:o=!0,maxContentLength:d=800,isAuthenticated:c=!1,onLoginRequested:i,onPostLoaded:u,onError:p}=e;const[g,h]=(0,s.useState)(null),[x,b]=(0,s.useState)(!1),[E,f]=(0,s.useState)(null),v=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),y=(0,s.useCallback)(async()=>{b(!0),f(null);try{let e="".concat(r,"/posts");if(t)e+="/".concat(t);else{if(!a)throw new Error("Either postId or postSlug must be provided");e+="/slug/".concat(a)}const s=await n().get(e);if(!s.data||!s.data.data)throw new Error("Post not found");{const e=s.data.data;h(e);const t={id:e.id,title:e.title,content:e.content,slug:e.slug,published:e.published,created_at:e.created_at,updated_at:e.updated_at,user_id:e.user_id||"",author:e.author};null==u||u(t)}}catch(t){var e;const a=(null===(e=t.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.message)||t.message||"Failed to load post";f(a),null==p||p(a)}finally{b(!1)}},[t,a,r,u,p]);return(0,s.useEffect)(()=>{(t||a)&&y()},[y]),x?l().createElement("div",{className:"flex justify-center items-center py-12"},l().createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l().createElement("span",{className:"ml-3 text-gray-600"},"Loading post...")):E?l().createElement("div",{className:"bg-red-50 border border-red-200 rounded-md p-4"},l().createElement("div",{className:"flex"},l().createElement("div",{className:"flex-shrink-0"},l().createElement("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},l().createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))),l().createElement("div",{className:"ml-3"},l().createElement("p",{className:"text-sm text-red-800"},E)))):g?l().createElement("div",{className:"viewer-container"},l().createElement("article",{className:"prose prose-sm sm:prose-base lg:prose-lg max-w-none",itemScope:!0,itemType:"https://schema.org/BlogPosting"},l().createElement("header",{className:"mb-6 sm:mb-8"},l().createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 sm:mb-4 leading-tight",itemProp:"headline"},g.title),l().createElement("div",{className:"flex flex-col sm:flex-row sm:items-center text-xs sm:text-sm text-gray-500 space-y-1 sm:space-y-0 sm:space-x-4"},l().createElement("span",{itemProp:"author"},"By ",g.author||"Admin"),l().createElement("span",{className:"hidden sm:inline"},"•"),l().createElement("time",{dateTime:g.created_at,itemProp:"datePublished"},v(g.created_at)),g.updated_at&&g.updated_at!==g.created_at&&l().createElement("time",{dateTime:g.updated_at,itemProp:"dateModified",className:"hidden sm:inline"},"• Updated ",v(g.updated_at)))),l().createElement("div",{className:"prose prose-lg max-w-none",itemProp:"articleBody",dangerouslySetInnerHTML:{__html:(()=>{if(!g)return"";let e=g.content;return!c&&e.length>d&&(e=e.substring(0,d)+"..."),m.marked.parse(e)})()}}),o&&!c&&g&&g.content.length>d&&l().createElement("div",{className:"mt-6 sm:mt-8 p-4 sm:p-6 bg-gray-50 rounded-lg border"},l().createElement("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2"},"Want to read more?"),l().createElement("p",{className:"text-sm sm:text-base text-gray-600 mb-4"},"Sign in to access the full article and discover more great content."),l().createElement("button",{onClick:i,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 w-full sm:w-auto"},"Sign In")))):l().createElement("div",{className:"text-center py-12"},l().createElement("p",{className:"text-gray-500"},"Post not found"))}}}]);